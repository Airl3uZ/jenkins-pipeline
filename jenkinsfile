@Library('SharedLibrary') _
node {
    // agent any
    // stages {
        stage('Checkout') {
            steps {
                githubCheckout(
                    branch: 'origin/citest',
                    repo: 'demo-php-ci.git',
                    user: 'Airl3uZ',
                    path: 'data'
                )
            }
        }
        stage("Get Configuration") {
            steps {
                echo "Demo CI"
                script {
                    config = readYaml file: "data/ci/ciconfig.yml"
                    println config
                    project = config.project
                }
            }
        }
        stage("Call pipeline") {
            "${project.lang}"Pipeline
        }
        // stage("Test") {
        //     steps {
        //         script {
        //             for(String testStep: project.testStep) {
        //                 println testStep
        //                 load "${project.lang}-${testStep}.groovy"
        //             }
        //         }
        //     }
        // }
    // }
}